<div class="container job-detail-assigned">
    <div class="row">
        <div class="col-md-12 header-space">
            <ng-breadcrumbs page-title="breadcrumbs.flixer-admin.job.job-detail"></ng-breadcrumbs>
        </div>
    </div>
    <div class="col-lg-12 col-sm-12 back-link">
        <a ng-disabled="vm.disabled" ui-sref="root.home.flixer-admin.jobs" class="btn pull-right">{{"common.backButton" | translate}}</a>
    </div>
    <div class="page-content">
        <div class="col-lg-6 col-sm-12 column-content">
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.status" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value upper">{{vm.job.status}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.name" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.title}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.code" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job._id}}</label>
                </div>
            </div>
            <div class="row" ng-show='vm.job.originExternalReference'>
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.external-reference" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.originExternalReference}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.description" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.description}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.scheduled" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.timeFormatting}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.contact.name" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.contact.firstName}} {{vm.job.contact.lastName}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.contact.phone" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value">{{vm.job.contact.phone}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <label class="form-label">{{"job-detail.contact.email" | translate}}</label>
                </div>
                <div class="col-lg-8">
                    <label class="form-value long-text">{{vm.job.contact.email}}</label>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-sm-12 column-content">
            <div class="row">
                <div class="col-lg-12">
                    <label class="form-label">{{"job-detail.venue" | translate}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <label class="form-value">{{vm.job.address.full}}</label>
                </div>
                <div class="col-lg-12">
                    <ui-gmap-google-map center="vm.map.center" zoom="vm.map.zoom">
                        <ui-gmap-markers models="vm.map.markers" coords="'self'" modelsbyref="false"/>
                    </ui-gmap-google-map>
                </div>
            </div>
        </div>
    </div>
    <div class="page-content profile-style">
        <div class=" profile hovercard card-fix">
            <div class="col-lg-4 col-sm-6" >
                <div class="avatar">
                    <img cdn-src src="{{vm.user.profilePicture[0].entryId}}" width-k="200" height-k="200" type-k="1" >
                </div>
            </div>
            <div class="col-lg-6" >
                <div class="detail-info">
                    <div class="title">
                        {{vm.user.contact.firstName}} {{vm.user.contact.lastName}}
                    </div>
                    <div class="desc">
                        {{vm.user.address.full}}
                    </div>
                    <div class="desc">
                        {{vm.user.contact.email}}
                    </div>
                    <div class="desc">
                        {{vm.user.contact.phone}}
                    </div>
                </div>
            </div>
            <div class="col-lg-2" >
                <button class="btn btn-primary action pull-right" ng-click="vm.releaseJob(vm.job._id)" ng-disabled="vm.disabled">
                    <i class="fa fa-check-circle"></i>
                    {{'job-detail.release-job' | translate}}
                </button>
                <button class="btn btn-primary action pull-right" ng-click="vm.openModal()" ng-show="vm.flixers.length > 0" ng-disabled="vm.disabled">
                    <i class="fa fa-check-circle"></i>
                    {{'job-detail.change-flixer' | translate}}
                </button>
            </div>
        </div>

        <div class="form-group has-error">
            <div class="col-sm-12">
                <p class="help-block has-error" ng-show="vm.errors !== null">
                    {{vm.errors | translate}}
                </p>
            </div>
        </div>
        <div class="form-group has-success">
            <div class="col-sm-12">
                <p class="help-block" ng-show="vm.message !== null">.
                    {{vm.message | translate}}
                    <i class="fa fa-spinner fa-pulse fa-2x"></i>
                </p>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-sm-12 back-link">
        <a ng-disabled="vm.disabled" ui-sref="root.home.flixer-admin.jobs" class="btn pull-right">{{"common.backButton" | translate}}</a>
    </div>
</div>